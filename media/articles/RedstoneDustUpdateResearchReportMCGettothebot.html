<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}table td,table th{padding:0}.c1{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:112.9pt;border-top-color:#000000;border-bottom-style:solid}.c20{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:338.6pt;border-top-color:#000000;border-bottom-style:solid}.c22{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:17pt;font-family:"Arial";font-style:normal}.c24{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:18pt;font-family:"Arial";font-style:normal}.c16{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c5{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Arial";font-style:normal}.c17{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c9{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c4{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c25{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:justify}.c31{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c8{color:#999999;font-weight:400;text-decoration:none;vertical-align:baseline;font-family:"Arial";font-style:normal}.c6{padding-top:0pt;padding-bottom:0pt;line-height:1.5;orphans:2;widows:2;text-align:justify}.c21{padding-top:0pt;padding-bottom:0pt;line-height:1.5;orphans:2;widows:2;text-align:center}.c23{border-spacing:0;border-collapse:collapse;margin-right:auto}.c27{font-weight:400;text-decoration:none;vertical-align:baseline;font-family:"Arial"}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c29{background-color:#ffffff;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c2{color:#ff0000;font-size:14pt}.c26{margin-left:180pt;text-indent:36pt}.c3{font-size:14pt;font-weight:700}.c11{font-style:italic;color:#999999}.c18{color:#ff0000}.c28{color:#999999}.c7{font-size:14pt}.c19{font-weight:700}.c10{height:11pt}.c14{font-size:13pt}.c30{height:23pt}.c15{height:0pt}.c13{font-style:italic}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c29 doc-content"><p class="c25"><span class="c24">Redstone Dust Update Research Report [MC: Get to the bottom of things #1]</span></p><p class="c25 c10"><span class="c5"></span></p><p class="c25 c10"><span class="c4"></span></p><p class="c21"><span class="c22">Basic Definition</span></p><p class="c6 c10"><span class="c4"></span></p><p class="c6"><span class="c9">Connectivity</span></p><p class="c6"><span class="c16">Concept:</span></p><p class="c6"><span class="c4">A direction is considered connected if there is redstone dust connected to the source redstone dust, including glass-block downward transmission (having connectivity but not transmitting a signal), excluding being obstructed by blocks.</span></p><p class="c6 c10"><span class="c4"></span></p><p class="c6 c10"><span class="c4"></span></p><p class="c21"><span class="c22">Redstone Dust Updates: PP, NC, Prepare</span></p><p class="c21 c10"><span class="c22"></span></p><p class="c6"><span class="c9">PP Updates (PostPlacement Updates)</span></p><p class="c6"><span class="c7">Regular </span><span class="c7 c13">PP Updates</span><span class="c7">: Sends </span><span class="c7 c13">PP Updates</span><span class="c7">&nbsp;to the </span><span class="c3">adjacent west, east, north, south, down, and up</span><span class="c4">&nbsp;blocks.</span></p><p class="c6 c10"><span class="c4"></span></p><p class="c6"><span class="c9">Prepare Updates:</span></p><p class="c6"><span class="c3 c28">Before 1.19 22w13a</span><span class="c7 c28">&nbsp;- When redstone dust is placed, broken, or changes state, it sends </span><span class="c7 c11">PP Updates</span><span class="c8 c7">&nbsp;to any block horizontally pointing towards it, excluding another redstone dust, and to the blocks above and below it (excluding observers).</span></p><p class="c6"><span class="c3 c28">1.19 22w13a and later</span><span class="c28 c7">&nbsp;- Redstone dust only sends </span><span class="c11 c7">P</span><span class="c11 c7">repare</span><span class="c11 c7">&nbsp;Updates</span><span class="c8 c7">&nbsp;to diagonally adjacent blocks if they are other redstone dusts.</span></p><p class="c6 c26"><span class="c7 c8">&nbsp; &mdash;&mdash;Minecraft Wiki &ndash; Redstone Dust</span></p><p class="c6"><span class="c4">&nbsp;</span></p><p class="c6"><span class="c16">Properties:</span></p><p class="c6"><span class="c7 c13">Prepare Updates</span><span class="c7">&nbsp;</span><span class="c2">essentially involve</span><span class="c7">: checking blocks and their states and performing </span><span class="c2">0~8 </span><span class="c2 c13">PP Updates</span><span class="c4">.</span></p><p class="c6"><span class="c4">&nbsp;</span></p><p class="c6"><span class="c16">Update Process:</span></p><p class="c6"><span class="c7">Source redstone dust follows the steps below in the order of </span><span class="c3">north, east, south, and west</span><span class="c4">:</span></p><p class="c6"><span class="c4">&nbsp;</span></p><p class="c6"><span class="c4">1. Check connectivity, if connected then continue.</span></p><p class="c6"><span class="c7">2. Check if the block below the immediate </span><span class="c7">neighbor</span><span class="c7">&nbsp;in that direction is an observer; if not, send </span><span class="c7 c13">PP Updates</span><span class="c4">&nbsp;to the block below.</span></p><p class="c6"><span class="c7">3. Same as 2, but the direction becomes upward (check if the block above the immediate </span><span class="c7">neighbor</span><span class="c4">&nbsp;in that direction is an observer).</span></p><p class="c6 c10"><span class="c4"></span></p><p class="c6"><span class="c9">NC Updates (NeighborChanged Updates)</span></p><p class="c6"><span class="c16">Process:</span></p><p class="c6"><span class="c14">Redstone dust performs </span><span class="c14 c18">second-order adjacent updates</span><span class="c14">: the source redstone dust itself and its six immediate </span><span class="c14">neighbors</span><span class="c14">&nbsp;act as seven update sources, emitting a total of 6*7=42 </span><span class="c14 c13">NC Updates</span><span class="c14">&nbsp;in the </span><span class="c14 c19">west, east, down, up, north, and south directions</span><span class="c5">.</span></p><p class="c6"><span class="c5">&nbsp;</span></p><p class="c6"><span class="c16">Update Source Order:</span></p><p class="c6"><span class="c4">The order of the seven update sources is based on the hash information of the redstone dust coordinates, randomly arranged. These sources have a 97% chance of being divided into three groups.</span></p><p class="c6 c10"><span class="c5"></span></p><p class="c6 c10"><span class="c5"></span></p><a id="t.eb86f4cf99a000e25678eae1ab3771f8fae2fe11"></a><a id="t.0"></a><table class="c23"><tr class="c15"><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">Group 1</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">Group 2</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">Group 3</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">Probability</span></p></td></tr><tr class="c15"><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">-Y, +Z, +X</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">O</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">+Y, -Z, -X</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">24.267%</span></p></td></tr><tr class="c15"><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">+Y, -Z, -X</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">O</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">-Y, +Z, +X</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">24.267%</span></p></td></tr><tr class="c15"><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">O</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">-Y, +Z, +X</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">+Y, -Z, -X</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">12.133%</span></p></td></tr><tr class="c15"><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">O</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">+Y, -Z, -X</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">-Y, +Z, +X</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">12.133%</span></p></td></tr><tr class="c15"><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">-Y, +Z, +X</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">+Y, -Z, -X</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">O</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">12.133%</span></p></td></tr><tr class="c15"><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">+Y, -Z, -X</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">-Y, +Z, +X</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">O</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">12.133%</span></p></td></tr><tr class="c30"><td class="c20" colspan="3" rowspan="1"><p class="c0"><span class="c5">Others</span></p></td><td class="c1" colspan="1" rowspan="1"><p class="c0"><span class="c5">&lt;0.2%</span></p></td></tr></table><p class="c6"><span class="c11 c14 c27">O in the table represents the source redstone dust, -X represents the update sources relative to the source redstone dust&#39;s direction.</span></p><p class="c6 c10"><span class="c4"></span></p><p class="c6"><span class="c4">The update sequence within each group is fixed, but the order of the groups is random. In addition to this, there are some other very low probability arrangement options.</span></p><p class="c6 c10"><span class="c5"></span></p><p class="c6 c10"><span class="c5"></span></p><p class="c21"><span class="c22">Overall Update Process:</span></p><p class="c6"><span class="c5">&nbsp;</span></p><p class="c6"><span class="c9">Affected by NC Updates</span></p><p class="c6"><span class="c5">&nbsp;</span></p><p class="c6"><span class="c7">When redstone dust is </span><span class="c2">affected by </span><span class="c2 c13">NC Updates</span><span class="c7">, it checks its </span><span class="c2">own power level</span><span class="c4">:</span></p><p class="c6"><span class="c4">&nbsp;</span></p><p class="c6"><span class="c4">1. Change its power level -&gt; the maximum power value of the connected redstone dust nearby minus one (i.e., max-1).</span></p><p class="c6"><span class="c7">2. Send </span><span class="c7 c13">Prepare Updates</span><span class="c4">.</span></p><p class="c6"><span class="c7">3. Send </span><span class="c7 c13">PP Updates</span><span class="c4">.</span></p><p class="c6"><span class="c7">4. Send </span><span class="c7 c13">Prepare Updates</span><span class="c4">.</span></p><p class="c6"><span class="c7">5. Send </span><span class="c7 c13">NC Updates</span><span class="c4">.</span></p><p class="c6"><span class="c4">&nbsp;</span></p><p class="c6"><span class="c9">Affected by pp updates</span></p><p class="c6"><span class="c4">&nbsp;</span></p><p class="c6"><span class="c7">When redstone dust is </span><span class="c2">affected by </span><span class="c2 c13">PP Updates</span><span class="c7">, it checks its </span><span class="c2">own connectivity status</span><span class="c4">:</span></p><p class="c6"><span class="c4">&nbsp;</span></p><p class="c6"><span class="c7">1. Change the connectivity status: </span><span class="c7 c13">side</span><span class="c4">.</span></p><p class="c6"><span class="c7">2. Send </span><span class="c7 c13">Prepare Updates</span><span class="c4">.</span></p><p class="c6"><span class="c7">3. Send </span><span class="c7 c13">PP Updates</span><span class="c4">.</span></p><p class="c6"><span class="c7">4. Send </span><span class="c7 c13">Prepare Updates</span><span class="c4">.</span></p><p class="c6 c10"><span class="c4"></span></p><p class="c6 c10"><span class="c4"></span></p><p class="c21"><span class="c22">Common &quot;update counts&quot; explanations</span></p><p class="c6"><span class="c4">&nbsp;</span></p><p class="c6"><span class="c9">&quot;42 updates&quot;:</span></p><p class="c6"><span class="c7">Refers to the total of 42 </span><span class="c7 c13">NC Updates</span><span class="c4">&nbsp;emitted by the redstone dust itself and its six adjacent update sources.</span></p><p class="c6"><span class="c4">&nbsp;</span></p><p class="c6"><span class="c9">&quot;Up to 22 updates&quot;:</span></p><p class="c6"><span class="c7">Refers to the two </span><span class="c7 c13">Prepare Updates</span><span class="c7">&nbsp;(including up to 8*2=16 </span><span class="c7 c13">PP Updates</span><span class="c7">) and regular </span><span class="c7 c13">PP Updates</span><span class="c7">&nbsp;(6 times), totaling up to 22 </span><span class="c7 c13">PP Updates</span><span class="c4">&nbsp;emitted by the redstone dust.</span></p><p class="c12 c10"><span class="c17"></span></p><p class="c12 c10"><span class="c17"></span></p><p class="c12 c10"><span class="c17"></span></p><p class="c12 c10"><span class="c17"></span></p><p class="c12 c10"><span class="c17"></span></p><p class="c10 c12"><span class="c17"></span></p><p class="c12"><span>Thanks </span><span>Fanzhitianyu</span><span>&nbsp;for his source code analysis, and all players from LazyAlienServer who helped me.</span></p><div><p class="c10 c31"><span class="c17"></span></p></div></body></html>